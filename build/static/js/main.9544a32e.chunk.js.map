{"version":3,"sources":["components/ProtectedRoute.js","images/logo.svg","components/Header.js","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Register.js","components/Login.js","utils/auth.js","images/popup_verify-registration_fail.svg","images/popup_verify-registration_ok.svg","components/InfoToolTip.js","components/App.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","Header","className","src","logo","alt","userData","path","exact","onClick","onSignOut","api","url","headers","this","_url","_headers","res","ok","json","Promise","reject","status","fetch","then","_getResponseData","newPhotoName","newPhotoURL","method","body","JSON","stringify","name","link","id","avatarURL","avatar","data","newUsername","newBio","about","all","getInitialCards","getUserData","authorization","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDislike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","aria-label","length","Main","onEditProfile","onAddPlace","onEditAvatar","cardArray","type","map","ImagePopup","onClose","Footer","PopupWithForm","isOpen","onSubmit","title","children","button","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarUrlInput","useRef","resetForm","current","ref","placeholder","AddPlacePopup","locationName","setLocationName","photoUrl","setPhotoUrl","Register","onRegister","email","password","setData","handleChange","disabled","Login","onLogin","BASE_URL","handleResponse","response","InfoToolTip","SuccessVerificationMessage","FailVerificationMessage","fail","isRegistered","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","cards","setCards","setCurrentUser","setLoggedIn","setUserData","isRegisteredPopupOpen","setIsRegisteredPopupOpen","setIsRegistered","history","useHistory","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","closeAllPopups","handleCardLike","likeCard","newCard","state","c","catch","err","console","log","handleCardDislike","dislikeCard","handleCardDelete","deleteCard","filter","tokenCheck","token","jwt","localStorage","getItem","push","user","Provider","removeItem","auth","setItem","updateUserData","addNewCard","updateAvatarPhoto","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9544a32e.chunk.js","sourcesContent":["import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport {Route, Switch, Link } from 'react-router-dom';\nimport logo from '../images/logo.svg';\n\nexport default function Header(props) {\n\n  return (\n        <header className=\"header root__section-position\">\n            <img src={logo} alt=\"Лого проекта Mesto Russia\" className=\"header__logo\" />\n            <div className=\"header__authorization-block\">\n              <p className={`header__authorized-email ${props.loggedIn ? 'header__authorized-email_visible': ''}`}>{props.userData}</p>\n              <nav>\n              <Switch>\n                <Route path=\"/sign-up\">\n                  <Link className=\"header__user-nav\" to=\"/sign-in\">Войти</Link>\n                </Route>\n                <Route path=\"/sign-in\">\n                  <Link className=\"header__user-nav\" to=\"/sign-up\">Регистрация</Link>\n                </Route>\n                <Route exact path=\"/\">\n                  <Link className=\"header__user-nav header__user-nav_signout\" onClick={props.onSignOut} to=\"/sign-in\">Выйти</Link>\n                </Route>\n              </Switch>\n              </nav>\n            </div>\n        </header>\n  );\n}","class Api {\n    constructor({url, headers}) {\n      this._url = url;\n      this._headers = headers;\n    }\n  \n    _getResponseData(res) {\n        if (!res.ok) {\n            return Promise.reject(`Ошибка: ${res.status}`); \n        }\n        return res.json();\n      }\n    \n    getInitialCards() {\n        return fetch(`${this._url}cards`, {\n          headers: this._headers,\n        })\n          .then (this._getResponseData);\n      }\n  \n    addNewCard(newPhotoName, newPhotoURL) {\n        return fetch(`${this._url}cards`, {\n            method: \"POST\",\n            headers: this._headers,\n            body: JSON.stringify({name: newPhotoName, link: newPhotoURL}),\n          })\n          .then (this._getResponseData);\n      }\n\n    deleteCard(id) {\n        return fetch (`${this._url}cards/${id}`, {\n            method: \"DELETE\",\n            headers: this._headers,\n            })\n            .then (this._getResponseData);\n        }  \n        \n    likeCard(id) {\n        return fetch (`${this._url}cards/likes/${id}`, {\n            method: \"PUT\",\n            headers: this._headers,\n            })\n            .then (this._getResponseData);\n        }\n\n    dislikeCard(id) {\n        return fetch (`${this._url}cards/likes/${id}`, {\n            method: \"DELETE\",\n            headers: this._headers,\n            })\n            .then (this._getResponseData);\n        }\n    \n    updateAvatarPhoto (avatarURL) {\n        return fetch (`${this._url}users/me/avatar`, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({avatar: avatarURL})\n            })\n            .then (this._getResponseData);\n\n        }\n\n    getUserData (data) {\n        return fetch (`${this._url}users/me/`, {\n            method: \"GET\",\n            headers: this._headers,\n            })\n            .then (this._getResponseData);\n        }\n\n    updateUserData (newUsername, newBio) {\n        return fetch (`${this._url}users/me/`, {\n            method: \"PATCH\",\n            headers: this._headers,\n            body: JSON.stringify({name: newUsername, about: newBio})\n            })\n            .then (this._getResponseData);\n        }\n\n    getDataForPageRender() {\n        return Promise.all([this.getInitialCards(), this.getUserData()])\n    }\n\n    getCardInfo (id) {\n        return fetch (`${this._url}cards/likes/${id}`, {\n            method: \"GET\",\n            headers: this._headers,\n            })\n            .then (this._getResponseData);\n        }\n    }\n\n    //Создаю экземляр класса Api \n    const api = new Api ({\n        url: 'https://mesto.nomoreparties.co/v1/cohort-23/',\n        headers: {\n            authorization: 'a260d49c-522b-4bbd-9cd1-72740d17aa2a', \n            'Content-type': 'application/json',\n        }\n    })\n\n    export default api ","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onCardLike, onCardDislike, onCardDelete}) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n\n    //Переменная, является ли текущий пользователь автором карточки\n    const isOwn = card.owner._id === currentUser._id;\n    \n    //Класс для кнопки удаления карточки (Показываем кнопку удаления, если текущий пользователь, является автором карточки)\n    const cardDeleteButtonClassName =\n        `element__delete-button ${isOwn ? 'element__delete-button_visible' : ''}`;\n    \n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Класс для кнопки лайка\n    const cardLikeButtonClassName = (\n        `element__like-button ${isLiked ? 'element__like-button_active' : ''}`\n    ); \n\n    const handleCardClick = () => {\n        onCardClick(card)\n      };\n    \n    const handleLikeClick = () => {\n        if (!isLiked) {onCardLike(card)} \n            else if (isLiked) {onCardDislike(card)}\n      };\n\n      const handleCardDelete = () => {\n        onCardDelete(card)\n      };\n    \n    return (\n        <li className=\"element\">\n            <img className=\"element__photo\" alt={card.name} src={card.link} onClick={handleCardClick}/>\n            <button className={cardDeleteButtonClassName} aria-label=\"Удалить фотографию\" onClick={handleCardDelete}></button>\n            <div className=\"element__info\">\n                <h2 className=\"element__title\">{card.name}</h2>\n                <div className=\"element__like-counter\">\n                    <button className={cardLikeButtonClassName} aria-label=\"Отметить фотографию как понравившуюся\" onClick={handleLikeClick}></button>\n                    <p className=\"element__like-number\">{card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    );\n  }\n  \n  export default Card;","import React from 'react';\n// import api from '../utils/api'; \nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDislike, onCardDelete, cardArray}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n        <main className=\"content root__section-position\">\n            <div className=\"profile\">\n                <div className=\"profile__all-user-info\">\n                    <div className=\"profile__avatar\">\n                        <img src={currentUser.avatar} alt=\"Фотография профиля\" className=\"profile__avatar-image\" />\n                        <div className=\"profile__avatar-edit-button\" \n                            onClick={onEditAvatar}>\n                        </div>\n                    </div>\n                    <div className=\"profile__info\">\n                        <div className=\"profile__username-editing\">\n                            <h1 className=\"profile__username\">{currentUser.name}</h1>\n                            <button type=\"button\" id=\"edit-profile\" className=\"profile__edit-button\" aria-label=\"Редактировать профиль\" onClick={onEditProfile}></button>\n                        </div>\n                        <p className=\"profile__bio\">{currentUser.about}</p>\n                    </div>\n                </div>\n                <button type=\"button\" className=\"profile__add-button\" id=\"add-element\" aria-label=\"Добавить место\" onClick={onAddPlace}></button>\n            </div>\n            <ul className=\"elements\">\n                {\n                    cardArray.map((card) => \n                    (<Card key={card._id} card={card} onCardClick={onCardClick} onCardLike={onCardLike} onCardDislike={onCardDislike} onCardDelete={onCardDelete} />)\n                    )\n                }\n            </ul>\n        </main>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n    return (\n        <div className={`popup popup_use_view-full-photo ${card && 'popup_is-opened'}`}>\n            <div className=\"popup__full-photo-container\">\n                <img className=\"popup__full-photo\" src={card?.link} alt={card?.name} />\n                <p className=\"popup__full-photo-title\">{card?.name}</p>\n                <button type=\"button\" className=\"close-icon\" aria-label=\"Закрыть\" onClick={onClose}></button>\n            </div>\n        </div>\n    );\n  }\n  \n  export default ImagePopup;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer root__section-position\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n  }\n  \n  export default Footer;","import React from 'react';\n\nexport default function PopupWithForm(props) {\n\n    return (\n        <div className={`popup popup_use_${props.name} ${props.isOpen ? 'popup_is-opened': ''}`}>\n        <div className=\"popup__content\">\n            <form className=\"form\" name={`${props.name}`} onSubmit={props.onSubmit}>\n                <h2 className=\"form__title\">{`${props.title}`}</h2>\n                <fieldset className=\"form__container\">\n                {props.children}\n                <button type=\"submit\" className=\"form__submit-button\" id={`submit-${props.name}`}>{props.button}</button>\n                </fieldset>\n            </form>\n            <button type=\"button\" className=\"close-icon\" aria-label=\"Закрыть\"\n            onClick={props.onClose}></button>\n        </div>\n    </div>\n    );\n  }","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup ({isOpen, onClose, onUpdateUser}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n    \n    React.useEffect(() => {\n        if (currentUser) {\n            setName(currentUser.name);\n            setDescription(currentUser.about);\n            }\n    }, [currentUser, isOpen]);\n\n    function handleChangeName(e) {\n        setName(e.target.value);\n    }\n\n    function handleChangeDescription(e) {\n        setDescription(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        \n        e.preventDefault();\n    \n        onUpdateUser({\n          name,\n          about: description,\n        });\n      }\n\n    return (\n        <PopupWithForm \n                  title='Редактировать профиль'\n                  name='edit-profile'\n                  button='Сохранить'\n                  isOpen={isOpen}\n                  onClose={onClose}\n                  onSubmit={handleSubmit}\n        >\n                    <input className=\"form__input\" type=\"text\" value={name || ''} onChange={handleChangeName} name=\"username\" id=\"username\" minLength=\"2\" maxLength=\"40\" required />\n                    <span className=\"form__input-error-message username-error\"></span>\n                    <input className=\"form__input\" type=\"text\" value={description || ''} onChange={handleChangeDescription} name=\"bio\" id=\"bio\" minLength=\"2\" maxLength=\"200\" required />\n                    <span className=\"form__input-error-message bio-error\"></span>\n    </PopupWithForm>\n    )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup ({isOpen, onClose, onUpdateAvatar}) {\n\n    const avatarUrlInput = React.useRef();\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n        onUpdateAvatar({\n          avatar: avatarUrlInput.current.value,\n        }, resetForm);\n      }\n\n    function resetForm() {\n        avatarUrlInput.current.value = ''\n    }\n    \n\n    return (\n        <PopupWithForm \n            title='Обновить аватар'\n            name='update-avatar-image'\n            button='Сохранить' \n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n            >\n                <input className=\"form__input\" ref={avatarUrlInput} type=\"url\" name=\"link\" id=\"avatar-image-url\" placeholder=\"Ссылка на фотографию\" required />\n                <span className=\"form__input-error-message avatar-image-url-error\"></span>  \n        </PopupWithForm>\n    )\n}","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup ({isOpen, onClose, onAddPlace}) {\n\n\n    const [locationName, setLocationName] = React.useState('');\n    const [photoUrl, setPhotoUrl] = React.useState('');\n\n    function handleChangeLocationName(e) {\n      setLocationName(e.target.value);\n    }\n\n    function handleChangePhotoUrl(e) {\n        setPhotoUrl(e.target.value);\n    }\n\n    function handleSubmit(e) {\n\n        e.preventDefault();\n        onAddPlace({\n          name: locationName,\n          link: photoUrl,\n        }, resetForm);\n      }\n\n    \n    function resetForm() {\n        setLocationName('');\n        setPhotoUrl('');\n    }\n\n    return (\n        <PopupWithForm\n                title='Новое место'\n                name='add-photo'\n                button='Создать'\n                isOpen={isOpen}\n                onClose={onClose}\n                onSubmit={handleSubmit}\n                >\n                        <input className=\"form__input\" onChange={handleChangeLocationName} type=\"text\" name=\"name\" id=\"location-name\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\n                        <span className=\"form__input-error-message location-name-error\"></span>\n                        <input className=\"form__input\" onChange={handleChangePhotoUrl} type=\"url\" name=\"link\" id=\"photo-url\" placeholder=\"Ссылка на картинку\" required />\n                        <span className=\"form__input-error-message photo-url-error\"></span>\n        </PopupWithForm>\n    )\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Register ({onRegister}) {\n\nconst [data, setData] = React.useState ({\n  email: '',\n  password: '',\n});\n\nfunction handleChange (e) {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    });\n  }\n  \nfunction handleSubmit(e) {\n\n    e.preventDefault();\n    const { email, password } = data;\n    \n    onRegister ({\n        email,\n        password,\n    });\n  }\n\n    return (\n      <div className=\"register\">\n        <form onSubmit={handleSubmit} className=\"form\" name=\"register\">\n                <h2 className=\"form__title form__title_use_on-page\">Регистрация</h2>\n                <fieldset className=\"form__container form__container_use_on-page\">\n                    <input className=\"form__input form__input_use_on-page\" \n                        type=\"email\" \n                        name=\"email\"\n                        value={data.email}\n                        placeholder=\"Email\"\n                        onChange={handleChange} \n                        required />\n                    <input className=\"form__input form__input_use_on-page\"  \n                        type=\"password\" \n                        name=\"password\"\n                        value={data.password}\n                        placeholder=\"Пароль\"\n                        onChange={handleChange}\n                        required />\n                <button disabled={!data.email || !data.password} type=\"submit\" className=\"form__submit-button form__submit-button_use_on-page\" id=\"submit-registration-data\">Зарегистрироваться</button>\n                </fieldset>\n        </form>\n        <div className=\"register__login-selection\">\n          <p className=\"register__login-callout\">Уже зарегистрированы?</p>{' '}\n          <Link to=\"sign-in\" className=\"register__login-link\">Войти</Link>\n        </div>\n      </div>\n  );\n  }\n","import React from 'react';\n\nexport default function Login ({onLogin}) {\n\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  });\n    \nconst handleChange = (e) => {\n    const {name, value} = e.target;\n    setData({\n      ...data,\n      [name]: value\n    });\n}\n\nconst handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = data;\n    onLogin ({email, password});\n  }\n\n    return(\n      <div className=\"login\">\n        <form onSubmit={handleSubmit} className=\"form\" name=\"login\">\n                <h2 className=\"form__title form__title_use_on-page\">Вход</h2>\n                <fieldset className=\"form__container form__container_use_on-page\">\n                    <input className=\"form__input form__input_use_on-page\" \n                        type=\"email\" \n                        name=\"email\" \n                        placeholder=\"Email\"\n                        value={data.email}\n                        onChange={handleChange} \n                        required />\n                    <input className=\"form__input form__input_use_on-page\"\n                        type=\"password\" \n                        name=\"password\" \n                        placeholder=\"Пароль\"\n                        value={data.password}\n                        onChange={handleChange}\n                        required />\n                <button type=\"submit\" disabled={!data.email || !data.password} className=\"form__submit-button form__submit-button_use_on-page\" id=\"submit-login-data\">Войти</button>\n                </fieldset>\n        </form>\n      </div>\n    )\n  }","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nconst handleResponse = response =>\n    response.ok \n    ? response.json()\n    : Promise.reject(`Ошибка: ${response.status}`)\n\n\nexport const register = ({email, password}) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then (handleResponse);\n};\n\nexport const authorize = ({email, password}) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then (handleResponse) \n  }; \n\n  export const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then (handleResponse); \n  }","export default __webpack_public_path__ + \"static/media/popup_verify-registration_fail.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/popup_verify-registration_ok.1b6082f8.svg\";","import React from 'react';\nimport fail from '../images/popup_verify-registration_fail.svg'; \nimport ok from '../images/popup_verify-registration_ok.svg'; \n\nexport default function InfoToolTip(props) {\n\n    function SuccessVerificationMessage () {\n        return (\n            <div>\n                <img src={ok} \n                alt=\"Иконка подтверждения регистрации\" \n                className=\"popup__verification-icon\" />\n                <p className=\"popup__verification-message\">Вы успешно зарегистрировались!</p>\n                <button type=\"button\" className=\"close-icon\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\n            </div>\n        )\n    }\n\n    function FailVerificationMessage () {\n        return (\n            <div>\n                <img src={fail} \n                alt=\"Иконка отказа в регистрации\" \n                className=\"popup__verification-icon\" />\n                <p className=\"popup__verification-message\">Что-то пошло не так! Попробуйте ещё раз.</p>\n                <button type=\"button\" className=\"close-icon\" aria-label=\"Закрыть\" onClick={props.onClose}></button>\n            </div>\n        )\n    }\n\n    return (\n        <div className={`popup ${props.isOpen ? 'popup_is-opened': ''}`}>\n            <div className=\"popup__content popup__content_use_verification-message\">\n            {props.isRegistered ?\n            <SuccessVerificationMessage /> \n            : <FailVerificationMessage />}\n            </div>\n        </div>\n        );\n  }","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport Header from './Header'\nimport api from '../utils/api'; \nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport Footer from './Footer'\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Register from './Register';\nimport Login from './Login';\nimport * as auth from '../utils/auth';\nimport InfoToolTip from './InfoToolTip';\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [loggedIn, setLoggedIn ] = React.useState(false);\n  const [userData, setUserData] = React.useState('');\n  const [isRegisteredPopupOpen, setIsRegisteredPopupOpen] = React.useState(false);\n  const [isRegistered, setIsRegistered] = React.useState(false);\n\n  const history = useHistory();\n\n  //Проверка токена в момент рендеринга приложения\n  React.useEffect (() => {\n    tokenCheck()\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  React.useEffect (() => {\n    api.getUserData().then((user) => (\n      setCurrentUser(user)\n        ))\n        .catch((err) => {\n            console.log(err)\n        })\n    }, []);\n\n    React.useEffect (() => {\n      api.getInitialCards().then((data) => setCards(data))\n              .catch((err) => {\n                  console.log(err)\n              })\n      }, []);\n  \n  function handleEditProfileClick () {\n    setIsEditProfilePopupOpen(true)\n  }\n  \n  function handleAddPlaceClick () {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick () {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard(null)\n    setIsRegisteredPopupOpen(false)\n  }\n\n  function handleCardLike(card) {\n    //Проверка, есть ли у карточки лайк\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.likeCard(card._id, !isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n        }).catch((err) => {\n          console.log(err)\n          });\n  }\n\n  function handleCardDislike(card) {\n    //Проверка, есть ли у карточки лайк\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.dislikeCard(card._id, isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n        }).catch((err) => {\n          console.log(err)\n          });\n  }\n\n  function handleCardDelete(card) {\n   \n    // Отправляем запрос в API на удаление карточки\n      api.deleteCard(card._id).then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id))\n          }).catch((err) => {\n            console.log(err)\n            });\n  }\n\n  function handleUpdateUser({name, about}) {\n\n      api.updateUserData(name, about).then((res) => {\n        setCurrentUser(user => ({...user, name, about }))\n          }).then(() => setIsEditProfilePopupOpen(false)\n            ).catch((err) => {\n              console.log(err)\n              });\n  }\n\n  function handleUpdateAvatar({avatar}, resetForm) {\n\n    api.updateAvatarPhoto(avatar).then((res) => {\n      setCurrentUser(user => ({...user, avatar}))\n        }).then(() => setIsEditAvatarPopupOpen(false)\n          ).then(()=> resetForm()\n            ).catch((err) => {\n              console.log(err)\n              });\n  }\n\n  function handleAddPlaceSubmit ({name, link}, resetForm) {\n\n    api.addNewCard(name, link).then((newCard) => {\n      setCards([newCard, ...cards])\n        }).then(() => setIsAddPlacePopupOpen(false)\n          ).then(()=> resetForm()\n            ).catch((err) => {\n              console.log(err)\n              });\n\n  }\n\n  function handleLogin ({email, password}){\n    auth.authorize ({email, password})\n    .then (data => {\n      if (data.token) {\n        localStorage.setItem('jwt', data.token);\n        setUserData(email);\n        setLoggedIn(true);\n        history.push(\"/\");\n        }\n    })\n    .catch(err => console.log(err))\n  }\n\n  function tokenCheck () {\n    const jwt = localStorage.getItem('jwt');\n\n      if (jwt){\n        \n        auth.getContent(jwt)\n        .then((res) => {\n          if (res){\n            setUserData (res.data.email);\n            setLoggedIn(true);\n            history.push(\"/\");\n            }\n          })\n          .catch(err => console.log(err))\n      }\n\n}\n\n  function handleRegister ({email, password}) {\n      \n      auth.register ({email, password})\n          .then (() => {\n            setIsRegistered(true);\n            setIsRegisteredPopupOpen(true);\n          })\n          .catch (\n            ((err) => {console.log(err);\n            setIsRegistered(false);\n            setIsRegisteredPopupOpen(true);\n              })\n          )\n  }\n\n  function onSignOut () {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n\n\n  return (\n    \n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"root\">\n            <Header \n              onSignOut={onSignOut}\n              loggedIn={loggedIn}\n              userData={userData}\n            />\n              <Switch>\n                <Route path=\"/sign-up\">\n                    <Register onRegister={handleRegister}/>\n                  </Route>\n                  <Route path=\"/sign-in\">\n                    <Login onLogin={handleLogin} tokenCheck={tokenCheck}/>\n                  </Route>\n                  <ProtectedRoute \n                    exact path=\"/\" \n                    loggedIn={loggedIn}\n                    component = {() => (\n                      \n                      <Main\n\n                      onEditProfile={handleEditProfileClick}\n                      onAddPlace={handleAddPlaceClick}\n                      onEditAvatar={handleEditAvatarClick}\n                      onCardClick={setSelectedCard}\n                      onCardLike={handleCardLike}\n                      onCardDislike={handleCardDislike}\n                      onCardDelete={handleCardDelete}\n                      cardArray={cards}\n                    />\n\n                    )}\n                  />\n                  <Route path=\"*\">\n                    <Redirect to=\"/sign-in\"/>\n                  </Route>\n              </Switch>\n            <Footer />\n            <InfoToolTip \n              isOpen={isRegisteredPopupOpen} \n              onClose={closeAllPopups} \n              isRegistered={isRegistered}\n            />\n\n            <EditProfilePopup \n              isOpen={isEditProfilePopupOpen} \n              onClose={closeAllPopups} \n              onUpdateUser={handleUpdateUser}\n            />\n                          \n            <AddPlacePopup \n              isOpen={isAddPlacePopupOpen} \n              onClose={closeAllPopups}\n              onAddPlace={handleAddPlaceSubmit}\n            />\n\n            <EditAvatarPopup \n              isOpen={isEditAvatarPopupOpen} \n              onClose={closeAllPopups} \n              onUpdateAvatar={handleUpdateAvatar}\n            />\n\n            <ImagePopup \n              card={selectedCard}\n              onClose={closeAllPopups}\n            />\n        </div>\n      </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}